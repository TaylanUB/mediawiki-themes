/*
 * Dark grey & orange theme with centered layout.
 *
 * Originally based on the regular 'dark' theme.
 *
 * Some CSS that seemed unnecessary was shaved off from the original code of the
 * regular 'dark' theme. In case of issues, it might be a good idea to look at the
 * original code and see if there's anything that shouldn't have been removed.
 *
 * Some notes about the CSS used in this file:
 *
 * - In many places we add gratuitous class selectors such as .oo-ui-widget to
 *   increase the specificity of the selector.
 *
 * - The :is() pseudo-class is sometimes used to avoid repetition, sometimes
 *   intentionally not used because it would make a line become too long.
 *
 * - We try not to exceed 100 characters per line throughout the file.
 */

/*
 * =========================
 * = Centering the content =
 * =========================
 */

:root {
	--body-width: 1366px;
	--sidebar-width: 192px;
	--right-margin: 20px;
}

html body {
	position: relative;
	margin-left: auto;
	margin-right: auto;
	max-width: var( --body-width );
}

.mw-body,
#mw-head-base,
#left-navigation,
#mw-data-after-content,
.mw-footer {
	margin-left: calc(
		var( --sidebar-width ) + 16px
	);
}

.mw-body {
	margin-right: var( --right-margin );
}

#p-logo,
#p-logo a,
#mw-panel {
	width: var( --sidebar-width );
}

#p-logo {
	margin-bottom: 0;
}
.mw-wiki-logo {
	margin-top: 20px;
	background-size: 160px auto;
}

#p-personal {
	right: var( --right-margin );
}

#p-search {
	margin-right: var( --right-margin );
}

/* Debug toolbar */
#jquery-foot-hovzer {
	left: 0;
}

.suggestions {
	/* We can't get around !important here due to inline CSS. */
	right: var( --right-margin ) !important;
}

/* For Extension:UniversalLanguageSelector */
.imeselector {
	position: fixed;
}

/*
 * =======================
 * = Color configuration =
 * =======================
 */

:root {
	/* Transparent in case there's a bg image. */
	--bg-body:   rgb(27 27 27 / 90%);

	--bg-main:   rgb(35 35 35);
	--bg-main2:  rgb(42 42 42);
	--bg-main3:  rgb(48 48 48);
	--bg-dark:   rgb(27 27 27);
	--bg-darker: rgb(20 20 20);

	--bdr-white: rgb( 160 160 160 );
	--bdr-color: rgb( 120  80   0 );
	--bdr-hl: rgb( 180  80   0 );

	--fg: rgb( 210 210 210 );
	--fg-light: rgb( 240 240 240 );
	--fg-dark: rgb( 150 150 150 );

	--link:     rgb(255 160 60);
	--link-vis: rgb(190 120 40);
	--link-new: rgb(220  70 70);

	--btn-bg: rgb( 45  45  45 );
	--btn-bdr: rgb( 160 160 160 );
	--btn-fg: rgb( 210 210 210 );

	--btn-bg-hl: rgb( 40  40  40 );
	--btn-bdr-hl: rgb( 120  80   0 );
	--btn-fg-hl: rgb( 210 210 210 );

	/* Not for :active but the OOUI active class */
	--btn-active-bg: rgb( 210  80   0 );
	--btn-active-bdr: rgb( 210  80   0 );
	--btn-active-fg: rgb( 240 240 240 );

	--btn-prim-bg: rgb( 210  80   0 );
	--btn-prim-bdr: rgb( 210  80   0 );
	--btn-prim-fg: rgb( 240 240 240 );

	--btn-prim-bg-hl: rgb( 180  60   0 );
	--btn-prim-bdr-hl: rgb( 180  60   0 );
	--btn-prim-fg-hl: rgb( 240 240 240 );

	--btn-destr-bg: rgb( 50 50 50 );
	--btn-destr-bdr: rgb( 210 60 60 );
	--btn-destr-fg: rgb( 210 60 60 );

	--btn-destr-bg-hl: rgb( 40 40 40 );
	--btn-destr-bdr-hl: rgb( 120 80  0 );
	--btn-destr-fg-hl: rgb( 210 60 60 );

	--btn-disabled-bg: rgb( 60  60  60 );
	--btn-disabled-bdr: rgb( 150 150 150 );
	--btn-disabled-fg: rgb( 150 150 150 );

	--checkbox-bg-unchecked: var( --bg-dark );
	--checkbox-bdr-unchecked: var( --bdr-white );
	--checkbox-bg-hover: var( --bg-dark );
	--checkbox-bdr-hover: var( --btn-prim-bg );
	--checkbox-bg-checked: var( --btn-prim-bg );
	--checkbox-bdr-checked: var( --btn-prim-bg );
	--checkbox-bg-checked-hover: var( --btn-prim-bg-hl );
	--checkbox-bdr-checked-hover: var( --btn-prim-bg-hl );

	--radio-bg: var( --bg-dark );
	--radio-bdr-unchecked: var( --bdr-white );
	--radio-bdr-checked: var( --btn-prim-bg-hl );
	--radio-bdr-hover: var( --btn-prim-bg );

	--diff-bdr-add: rgb( 180 255 180 );
	--diff-bdr-del: rgb( 255 180 180 );
	--diff-bdr-ntr: rgb( 190 190 190 );
	--diff-text-add-bg: rgb( 140 255 140 );
	--diff-text-add-fg: rgb( 0 0 0 );
	--diff-text-del-bg: rgb( 255 140 140 );
	--diff-text-del-fg: rgb( 0 0 0 );

	--diff-count-pos: rgb( 0 200  0 );
	--diff-count-neg: rgb( 240  70 70 );
}

/*
 * ==========================
 * = Standard HTML elements =
 * ==========================
 */

html body {
	/* Maybe we have a background image. */
	background-color: var( --bg-body );
	color: var( --fg );

	/* Fix broken Vector footer. */
	min-height: calc(100% - 80px);
	padding-bottom: 80px;

	/* Vector sets it to 100% for some reason. */
	height: auto;
}

:focus {
	outline: 0;
}

/*
 * Headers and paragraphs
 */
h1, .mw-heading h1,
h2, .mw-heading h2,
h3, .mw-heading h3,
h4, .mw-heading h4,
h5, .mw-heading h5,
h6, .mw-heading h6 {
	color: var( --fg );
}

h1, h2 {
	font-family: 'Linux Libertine', 'Georgia', 'Times', serif;
}

.vector-body :is(h1, h2), h1.mw-first-heading {
	border-bottom: 1px solid var( --bdr-color );
}

.vector-body h2 {
	font-size: 150%;
}

.vector-body h3 {
	font-size: 120%;
	font-weight: bold;
}

.vector-body h5 {
	font-size: 90%;
}

.vector-body h6 {
	font-size: 82%;
}

p {
	color: var( --fg );
}

/*
 * Tables
 */
table {
	background: var( --bg-main );
	color: var( --fg );
}

.mw-parser-output .dataTables_wrapper .dataTables_length,
.mw-parser-output .dataTables_wrapper .dataTables_filter,
.mw-parser-output .dataTables_wrapper .dataTables_info,
.mw-parser-output .dataTables_wrapper .dataTables_processing,
.mw-parser-output .dataTables_wrapper .dataTables_paginate {
	color: var( --fg );
}

.mw-parser-output table.dataTable tbody tr,
.mw-parser-output table.dataTable.display tbody tr.even > .sorting_1,
.mw-parser-output table.dataTable.order-column.stripe tbody tr.even > .sorting_1 {
	background: var( --bg-main );
}

.mw-parser-output table.dataTable.stripe tbody tr.odd,
.mw-parser-output table.dataTable.display tbody tr.odd,
.mw-parser-output table.dataTable.display tbody tr.odd > .sorting_1,
.mw-parser-output table.dataTable.order-column.stripe tbody tr.odd > .sorting_1 {
	background: var( --bg-main2 );
}

.mw-parser-output table.dataTable.hover tbody tr:hover,
.mw-parser-output table.dataTable.display tbody tr:hover,
.mw-parser-output table.dataTable.display tbody tr:hover > .sorting_1,
.mw-parser-output table.dataTable.order-column.hover tbody tr:hover > .sorting_1,
.mw-parser-output table.dataTable.display tbody tr:hover > .sorting_1,
.mw-parser-output table.dataTable.order-column.hover tbody tr:hover > .sorting_1 {
	background: var( --bg-main3 );
}

.mw-htmlform-ooui .mw-htmlform-matrix tbody tr:nth-child(2n) td {
	background: var( --bg-main2 );
}

.mw-htmlform-ooui .mw-htmlform-matrix tbody tr:hover td {
	background: var( --bg-main3 );
}

/*
 * Inputs
 */
input[ type='text' ],
input[ type='search' ],
input:not( [ type ] ),
select,
option {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
	color: var( --fg );
	box-shadow: none;
}

input[ type='radio' ] {
	accent-color: black;
}

/*
 * Lists
 */
ul {
	list-style-type: disc;
	list-style-image: none;
}

/*
 * Textarea
 */
textarea {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
	color: var( --fg );
}

/*
 * Pre & Code
 */
pre,
code,
tt,
kbd,
samp,
.mw-code {
	background: var( --bg-dark );
	color: var( --fg );
}

pre,
code,
.mw-code {
	border: 1px dashed var( --bdr-color );
}

/*
 * Horizontal rule
 */
hr {
	background: var( --bdr-color );
	color: var( --bdr-color );
}

/*
 * Links
 */
a,
a.stub {
	color: var( --link );
}

a:visited,
a.stub:visited {
	color: var( --link-vis );
}

a:hover,
a:active,
a:focus,
a.stub:hover,
a.stub:active,
a.stub:focus {
	color: var( --link-vis );
	text-decoration: underline;
}

a.new,
a.new:hover,
a.new:active,
a.new:focus,
a.new:visited {
	color: var( --link-new );
}

.mw-parser-output a.external,
.mw-parser-output a.external:visited {
	color: var( --link );
	background-image: url(link_external.svg);
}

.mw-parser-output a.external:hover,
.mw-parser-output a.external:active,
.mw-parser-output a.external:focus,
.mw-parser-output a.external:visited {
	color: var( --link-vis );
}

.mw-parser-output a.extiw,
.mw-parser-output a.extiw:visited {
	color: var( --link );
}

.mw-parser-output a.extiw:hover,
.mw-parser-output a.extiw:active,
.mw-parser-output a.extiw:focus,
.mw-parser-output a.extiw:visited {
	color: var( --link-vis );
}

/*
 * Forms
 */
fieldset {
	border: 1px solid var( --bdr-color );
}

/*
 * ======================
 * = Custom UI elements =
 * ======================
 */

/* We add a gratuitous .oo-ui-widget in some places to increase the weight of the selectors. */

/*
 * Classic UI widgets
 */
.ui-widget-overlay {
	background: rgb( 0 0 0 / 0.3 ) !important;
}

.ui-widget-content {
	/* Have to use !important to override inline style. */
	color: var( --fg ) !important;
}

.ui-widget.ui-widget-content {
	background: var( --bg-main );
	color: var( --fg );
}

body .ui-dialog .ui-dialog-titlebar.ui-widget-header,
body .ui-dialog .ui-dialog-buttonpane.ui-widget-content {
	/* Have to use !important to override another one, ugh. */
	background: var( --bg-main3 ) !important;
	color: var( --fg );
}

body .ui-menu .ui-menu-item a {
	color: var( --fg );
}

.ui-widget .ui-widget-header {
	border: 1px solid var( --bdr-color );
}

body .ui-button.ui-widget {
	background: var( --btn-bg ) !important;
	border: 1px solid var( --btn-bdr ) !important;
	color: var( --btn-fg );
	box-shadow: none;
}

body .ui-button.ui-widget:is( :hover, :active, :focus ) {
	background: var( --btn-bg-hl ) !important;
	border: 1px solid var( --btn-bdr-hl ) !important;
	color: var( --btn-fg-hl );
	box-shadow: none;
}

/*
 * Message dialog
 */
.oo-ui-widget.oo-ui-messageDialog-title,
.oo-ui-widget.oo-ui-messageDialog-message {
	color: var( --fg );
}

/*
 * Panels
 */
.oo-ui-panelLayout-framed {
	border: 1px solid var( --bdr-white );
}

/*
 * Media search widget
 */
.oo-ui-widget.oo-ui-widget-enabled.mw-widget-mediaSearchWidget .mw-widget-mediaResultWidget .mw-widget-mediaResultWidget-overlay {
	border: 1px solid var( --bdr-white );
	box-shadow: none;
}

.oo-ui-widget.oo-ui-widget-enabled.mw-widget-mediaSearchWidget .mw-widget-mediaResultWidget:is( :hover, :active, :focus, .oo-ui-optionWidget-selected ) {
	border: none;
	box-shadow: none;
}

.oo-ui-widget.oo-ui-widget-enabled.mw-widget-mediaSearchWidget .mw-widget-mediaResultWidget:is( :hover, :active, :focus, .oo-ui-optionWidget-selected ) .mw-widget-mediaResultWidget-overlay {
	border: 1px solid var( --bdr-color );
	box-shadow: none;
}

/*
 * File upload widget
 */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-selectFileWidget.oo-ui-selectFileWidget-dropTarget {
	background-color: var( --bg-main );
}

.oo-ui-selectFileWidget-dropLabel,
.oo-ui-widget.oo-ui-labelWidget.oo-ui-inline-help {
	color: var( --fg );
}

/*
 * Windows
 */
.oo-ui-windowManager.oo-ui-windowManager-modal .oo-ui-window.oo-ui-dialog .oo-ui-window-frame {
	background-color: var( --bg-main );
	border: 1px solid var( --bdr-white );
	box-shadow: none;
}

.oo-ui-windowManager.oo-ui-windowManager-floating .oo-ui-window.oo-ui-dialog .oo-ui-window-frame .oo-ui-window-foot {
	outline: none;
}

/*
 * VisualEditor save dialog
 */
.ve-ui-mwSaveDialog-savePanel .ve-ui-mwSaveDialog-summary {
	background: transparent;
}

.ve-ui-mwSaveDialog-savePanel .ve-ui-mwSaveDialog-options {
	background-color: var( --bg-main2 );
	border: 1px solid var( --bdr-white );
}

.ve-ui-mwSaveDialog-savePanel .ve-ui-mwSaveDialog-summaryLabel,
.ve-ui-mwSaveDialog-savePanel .ve-ui-mwSaveDialog-license {
	color: var( --fg );
}

/*
 * VisualEditor template dialog
 */
.ve-ui-overlay-global .oo-ui-windowManager-modal > .oo-ui-dialog {
	background-color: rgba(0, 0, 0, 0.67);
}

.oo-ui-widget
.ve-ui-mwTransclusionOutlineTemplateWidget-sticky,
.oo-ui-layout
.ve-ui-mwTransclusionOutlineControlsWidget {
	background-color: var( --bg-main2 );
}

.ve-ui-expandableContent-container .ve-ui-expandableContent-fade {
	background: linear-gradient(to right, transparent 0, var( --bg-main ) 90%);
}
.ve-ui-expandableContent-container .ve-ui-expandableContent-toggle {
	background-color: var( --bg-main );
}

/*
 * Tab select widget
 */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tabSelectWidget-framed {
	background-color: var( --bg-main2 );
	box-shadow: none;
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tabSelectWidget-framed .oo-ui-tabOptionWidget {
	color: var( --fg );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tabSelectWidget-framed .oo-ui-widget.oo-ui-widget-enabled.oo-ui-tabOptionWidget:is( :hover, :active, :focus, .oo-ui-optionWidget-selected ) {
	background-color: var( --bg-main3 );
	box-shadow: none;
	color: var( --fg );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tabSelectWidget-frameless {
	background-color: var( --bg-main2 );
	box-shadow: none;
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tabSelectWidget-frameless .oo-ui-tabOptionWidget {
	color: var( --fg );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tabSelectWidget-frameless .oo-ui-widget.oo-ui-widget-enabled.oo-ui-tabOptionWidget:is( :hover, :active, :focus, .oo-ui-optionWidget-selected ) {
	background-color: var( --bg-main3 );
	box-shadow: none;
	color: var( --link );
}

/*
 * Toolbar
 */

.oo-ui-toolbar .oo-ui-toolbar-bar {
	background-color: var( --bg-main );
	color: var( --fg );
}

.oo-ui-toolbar.oo-ui-toolbar-position-top .oo-ui-toolbar-bar {
	border-bottom: 1px solid var( --bdr-white );
}

.oo-ui-toolbar .oo-ui-menuToolGroup {
	border-left: 1px solid var( --bdr-color );
	border-right: 1px solid var( --bdr-color );
}

.oo-ui-toolbar .oo-ui-menuToolGroup-tools .oo-ui-tool.oo-ui-tool-active {
	background-color: var( --bg-main );
}

.oo-ui-toolbar .oo-ui-tool.oo-ui-widget-enabled .oo-ui-tool-link:is( :hover, :active, :focus ) {
	outline: none;
	box-shadow: none;
}

.oo-ui-toolbar .oo-ui-toolbar-actions .oo-ui-popupToolGroup.oo-ui-widget-enabled .oo-ui-popupToolGroup-handle {
	border-right: none;
	outline: none;
	box-shadow: none;
}

.oo-ui-toolbar .oo-ui-toolbar-actions .oo-ui-popupToolGroup.oo-ui-widget-enabled .oo-ui-popupToolGroup-handle:is( :hover, :active, :focus ) {
	border-right: none;
	outline: none;
	box-shadow: none;
}

.oo-ui-toolbar .oo-ui-tool.oo-ui-widget-enabled .oo-ui-tool-link:is( :hover, :active, :focus ) {
	background-color: var( --bg-main3 );
	color: var( --fg );
}

.oo-ui-toolbar .oo-ui-tool.oo-ui-widget-enabled.oo-ui-tool-active .oo-ui-tool-link {
	background-color: var( --bg-main3 );
	color: var( --fg );
}

.oo-ui-toolbar .oo-ui-popupToolGroup.oo-ui-widget-enabled .oo-ui-popupToolGroup-handle {
	border-right: none;
	outline: none;
	box-shadow: none;
}

.oo-ui-toolbar .oo-ui-popupToolGroup.oo-ui-widget-enabled .oo-ui-popupToolGroup-handle:is( :hover, :active, :focus ) {
	background-color: var( --bg-main3 );
	color: var( --fg );
}

.oo-ui-toolbar .oo-ui-popupToolGroup.oo-ui-popupToolGroup-active .oo-ui-popupToolGroup-handle {
	background-color: var( --bg-main3 );
	color: var( --fg );
}

.oo-ui-toolbar .oo-ui-popupToolGroup-tools {
	background-color: var( --bg-dark );
	border: 1px solid var( --bdr-white );
}

.oo-ui-toolbar .oo-ui-listToolGroup-tools .oo-ui-tool.oo-ui-widget-enabled:is( :hover, :active, :focus ) {
	background-color: var( --bg-dark );
	color: var( --fg );
}

.oo-ui-toolbar .oo-ui-popupToolGroup-tools .oo-ui-tool-active.oo-ui-widget-enabled .oo-ui-tool-link .oo-ui-tool-title {
	color: var( --fg );
}

.oo-ui-toolbar .oo-ui-barToolGroup-tools.oo-ui-toolGroup-disabled-tools .oo-ui-tool.oo-ui-flaggedElement-primary .oo-ui-tool-link {
	background: var( --btn-disabled-bg );
	border: 1px solid var( --btn-disabled-bg ); /* No border on this one */
	color: var( --btn-disabled-fg );
	box-shadow: none;
}

.oo-ui-toolbar .oo-ui-tool.oo-ui-widget-enabled.oo-ui-flaggedElement-primary.oo-ui-flaggedElement-progressive .oo-ui-tool-link {
	background: var( --btn-prim-bg );
	border: 1px solid var( --btn-prim-bdr );
	color: var( --btn-prim-fg );
	box-shadow: none;
}

.oo-ui-toolbar .oo-ui-tool.oo-ui-widget-enabled.oo-ui-flaggedElement-primary.oo-ui-flaggedElement-progressive .oo-ui-tool-link:is( :hover, :active, :focus ) {
	background: var( --btn-prim-bg-hl );
	border: 1px solid var( --btn-prim-bdr-hl );
	color: var( --btn-prim-fg-hl );
	box-shadow: none;
}

/*
 * Text input
 */

/* Note that we have to use some weird combinations of hover on the parent
   and focus on the child, to correctly override the default styles. */

/* The search input has to be special-cased as it doesn't use either of the
   mw-ui or oo-ui classes. */

.mw-ui-input:not( :disabled ),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-textInputWidget .oo-ui-inputWidget-input,
.cdx-text-input__input:enabled {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-white );
	color: var( --fg );
}

.mw-ui-input:not( :disabled ):is( :hover, :active, :focus ),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-textInputWidget:is( *, :hover ) .oo-ui-inputWidget-input:is( :hover, :active, :focus ),
.cdx-text-input__input:enabled:is( :hover, :active, :focus ) {
	border: 1px solid var( --bdr-hl );
	box-shadow: none;
	outline: none;
	outline-offset: 0;
}

.mw-ui-input:not( :disabled )::placeholder,
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-textInputWidget .oo-ui-inputWidget-input::placeholder {
	color: var( --fg-dark );
}

.mw-ui-input:disabled,
.oo-ui-widget.oo-ui-widget-disabled.oo-ui-textInputWidget .oo-ui-inputWidget-input {
	background: var( --bg-darker );
	border: 1px solid var( --bdr-white );
	color: var( --fg-dark );
}

/*
 * Buttons
 */

/* Normal buttons with frame */
.mw-ui-button:not( :disabled ),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-framed .oo-ui-buttonElement-button,
body .cdx-button:enabled {
	background: var( --btn-bg );
	border: 1px solid var( --btn-bdr );
	color: var( --btn-fg );
	box-shadow: none;
}

.mw-ui-button:not( :disabled ):is( :hover, :active, :focus ),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-framed .oo-ui-buttonElement-button:is( :hover, :active, :focus ),
body .cdx-button:enabled:is( :hover, :active, :focus ) {
	background: var( --btn-bg-hl );
	border-color: var( --btn-bdr-hl );
	color: var( --btn-fg-hl );
	box-shadow: none;
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-framed.oo-ui-buttonElement-active .oo-ui-buttonElement-button {
	background: var( --btn-active-bg );
	border-color: var( --btn-active-bdr );
	color: var( --btn-active-fg );
	box-shadow: none;
}

/* "Primary" and "progressive" buttons with frame */
.mw-ui-button:is( .mw-ui-primary,.mw-ui-progressive ):not( :disabled ),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-framed.oo-ui-flaggedElement-primary .oo-ui-buttonElement-button,
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-framed.oo-ui-flaggedElement-progressive .oo-ui-buttonElement-button,
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-framed.oo-ui-flaggedElement-primary.oo-ui-flaggedElement-progressive .oo-ui-buttonElement-button,
.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive {
	background: var( --btn-prim-bg );
	border: 1px solid var( --btn-prim-bdr );
	color: var( --btn-prim-fg );
	box-shadow: none;
}

.mw-ui-button:is( .mw-ui-primary,.mw-ui-primary ):not( :disabled ):is( :hover, :active, :focus ),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-framed.oo-ui-flaggedElement-primary .oo-ui-buttonElement-button:is( :hover, :active, :focus ),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-framed.oo-ui-flaggedElement-progressive .oo-ui-buttonElement-button:is( :hover, :active, :focus ),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-framed.oo-ui-flaggedElement-primary.oo-ui-flaggedElement-progressive .oo-ui-buttonElement-button:is( :hover, :active, :focus ),
.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive:is( :hover, :active, :focus ) {
	background: var( --btn-prim-bg-hl );
	border: 1px solid var( --btn-prim-bdr-hl );
	color: var( --btn-prim-fg-hl );
	box-shadow: none;
}

/* "Destructive" buttons with frame */
.mw-ui-button.mw-ui-destructive:not( :disabled ),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-framed.oo-ui-flaggedElement-destructive .oo-ui-buttonElement-button {
	background: var( --btn-destr-bg );
	border: 1px solid var( --btn-destr-bdr );
	color: var( --btn-destr-fg );
	box-shadow: none;
}

.mw-ui-button.mw-ui-destructive:not( :disabled ):is( :hover, :active, :focus ),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-framed.oo-ui-flaggedElement-destructive .oo-ui-buttonElement-button:is( :hover, :active, :focus ) {
	background: var( --btn-destr-bg-hl );
	border: 1px solid var( --btn-destr-bdr-hl );
	color: var( --btn-destr-fg-hl );
	box-shadow: none;
}

/* Disabled buttons with frame */
.mw-ui-button:disabled,
.oo-ui-widget.oo-ui-widget-disabled.oo-ui-buttonElement-framed .oo-ui-buttonElement-button {
	background: var( --btn-disabled-bg );
	border: 1px solid var( --btn-disabled-bdr );
	color: var( --btn-disabled-fg );
	box-shadow: none;
}

/* Normal buttons without frame */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-frameless .oo-ui-buttonElement-button {
	background: transparent;
	border: 0;
	color: var( --btn-fg );
	box-shadow: none;
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-frameless .oo-ui-buttonElement-button:is( :hover, :active, :focus ) {
	background: transparent;
	border: 0;
	color: var( --btn-fg-hl );
	box-shadow: none;
	text-decoration: underline;
}

/* "Primary" and "progressive" buttons without frame */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-frameless.oo-ui-flaggedElement-primary .oo-ui-buttonElement-button,
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-frameless.oo-ui-flaggedElement-progressive .oo-ui-buttonElement-button {
	background: transparent;
	border: 0;
	color: var( --link );
	box-shadow: none;
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-frameless.oo-ui-flaggedElement-primary .oo-ui-buttonElement-button:is( :hover, :active, :focus ),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-frameless.oo-ui-flaggedElement-progressive .oo-ui-buttonElement-button:is( :hover, :active, :focus ) {
	background: transparent;
	border: 0;
	color: var( --link-vis );
	box-shadow: none;
	text-decoration: underline;
}

/* "Destructive" buttons without frame */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-frameless.oo-ui-flaggedElement-destructive .oo-ui-buttonElement-button {
	background: transparent;
	border: 0;
	color: var( --btn-destr-fg );
	box-shadow: none;
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-buttonElement-frameless.oo-ui-flaggedElement-destructive .oo-ui-buttonElement-button:is( :hover, :active, :focus ) {
	background: transparent;
	border: 0;
	color: var( --btn-destr-fg-hl );
	box-shadow: none;
	text-decoration: underline;
}

/* Disabled buttons without frame */
.oo-ui-widget.oo-ui-widget-disabled.oo-ui-buttonElement-frameless .oo-ui-buttonElement-button {
	background: transparent;
	border: 0;
	color: var( --btn-disabled-fg );
	box-shadow: none;
}

/* Close button of some dialogs */
.oo-ui-processDialog-actions-safe .oo-ui-widget.oo-ui-widget-enabled.oo-ui-iconElement:not( .oo-ui-labelElement ) .oo-ui-buttonElement-button {
	background-color: transparent;
	border: none;
}

.oo-ui-processDialog-actions-safe .oo-ui-widget.oo-ui-widget-enabled.oo-ui-iconElement:not( .oo-ui-labelElement ) .oo-ui-buttonElement-button:is( :hover, :active, :focus ) {
	background-color: var( --btn-bg-hl );
	border: none;
}

/* Button select widget */
.oo-ui-widget.oo-ui-buttonSelectWidget.oo-ui-widget-enabled:is( :hover, :active, :focus ) .oo-ui-buttonOptionWidget.oo-ui-optionWidget-selected .oo-ui-buttonElement-button {
	border-color: var( --btn-active-bdr );
	box-shadow: none;
	outline: none;
}

/*
 * Dropdown Menus
 */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-dropdownInputWidget:is( *, :hover ) {
	background: transparent;
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-dropdownWidget .oo-ui-dropdownWidget-handle,
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-dropdownInputWidget
select {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-white );
	color: var( --fg );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-dropdownWidget .oo-ui-dropdownWidget-handle:is(:hover, :active, :focus),
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-dropdownInputWidget select:is(:hover, :active, :focus) {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-hl );
	color: var( --fg );
	box-shadow: none;
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-dropdownInputWidget .oo-ui-indicator-down {
	background-image: url(
		"data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2212%22 height=%2212%22 fill=%22white%22 viewBox=%220 0 12 12%22%3E%3Ctitle%3E down %3C/title%3E%3Cpath d=%22M9.9 2.9 6 6.8 2.1 2.9 1 4l5 5 5-5z%22/%3E%3C/svg%3E"
	);
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-dropdownWidget.oo-ui-dropdownWidget-open .oo-ui-dropdownWidget-handle {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
	color: var( --fg );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-dropdownWidget.oo-ui-dropdownWidget-open .oo-ui-dropdownWidget-handle:is( :hover, :active, :focus ) {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-hl );
	color: var( --fg );
	box-shadow: none;
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .oo-ui-menuOptionWidget.oo-ui-optionWidget {
	background: var( --bg-dark );
	color: var( --fg );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .oo-ui-menuOptionWidget.oo-ui-optionWidget-selected,
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .oo-ui-menuOptionWidget.oo-ui-optionWidget-highlighted {
	background: var( --bg-darker );
	color: var( --fg );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .oo-ui-menuOptionWidget.oo-ui-optionWidget-selected.oo-ui-optionWidget-highlighted,
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .oo-ui-menuOptionWidget.oo-ui-optionWidget-pressed.oo-ui-optionWidget-highlighted {
	background: var( --bg-darker );
	color: var( --fg-light );
}

/*
 * Checkboxes
 */

/* Make sure the catch-all filter: invert(100%) further down doesn't affect these. */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-checkboxInputWidget[ type='checkbox' ] + span {
	filter: none;
	background-color: var( --checkbox-bg-unchecked );
	border-color: var( --checkbox-bdr-unchecked );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-checkboxInputWidget[ type='checkbox' ]:checked + span {
	filter: none;
	background-color: var( --checkbox-bg-checked );
	border-color: var( --checkbox-bdr-checked );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-checkboxInputWidget[ type='checkbox' ]:hover + span {
	filter: none;
	background-color: var( --checkbox-bg-hover );
	border-color: var( --checkbox-bdr-hover );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-checkboxInputWidget[ type='checkbox' ]:checked:hover + span {
	filter: none;
	background-color: var( --checkbox-bg-checked-hover );
	border-color: var( --checkbox-bdr-checked-hover );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-checkboxInputWidget[ type='checkbox' ]:focus + span {
	box-shadow: none;
}

/*
 * Radio buttons
 */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-radioInputWidget [ type='radio' ] + span {
	background-color: var( --radio-bg );
	border-color: var( --radio-bdr-unchecked );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-radioInputWidget [ type='radio' ]:checked + span {
	border-color: var( --radio-bdr-checked );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-radioInputWidget [ type='radio' ]:hover + span {
	border-color: var( --radio-bdr-hover );
}

/*
 * Date input & Calendar
 */
.oo-ui-widget-enabled.mw-widget-dateInputWidget .mw-widget-dateInputWidget-handle {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-white );
	color: var( --fg );
	transition: border-color 250ms;
}

.oo-ui-widget-enabled.mw-widget-dateInputWidget-empty .mw-widget-dateInputWidget-handle {
	color: var( --fg-dark );
}

.oo-ui-widget-enabled.mw-widget-dateInputWidget .mw-widget-dateInputWidget-handle:is( :hover, :active, :focus ) {
	background: var( --bg-dark );
	color: var( --fg );
	border: 1px solid var( --bdr-hl );
	box-shadow: none;
	transition: border-color 250ms;
}

.oo-ui-widget.oo-ui-widget-enabled.mw-widget-dateInputWidget .mw-widget-dateInputWidget-handle:is( :hover, :active, :focus ) {
	border: 1px solid var( --bdr-color );
}

.oo-ui-widget-enabled.mw-widget-dateInputWidget-empty .mw-widget-dateInputWidget-handle:is( :hover, :active, :focus ) {
	color: var( --fg-dark );
}

.oo-ui-widget-enabled.mw-widget-calendarWidget {
	border: 1px solid var( --bdr-color );
	/* This isn't color related, but it really looks much better with this */
	padding: 3px;
}

.oo-ui-widget-enabled.mw-widget-dateInputWidget-calendar {
	background: var( --bg-dark );
}

.mw-widget-calendarWidget-item.mw-widget-calendarWidget-day,
.mw-widget-calendarWidget-item.mw-widget-calendarWidget-month,
.mw-widget-calendarWidget-item.mw-widget-calendarWidget-year {
	color: var( --fg );
}

.mw-widget-calendarWidget-item.mw-widget-calendarWidget-day.mw-widget-calendarWidget-day-additional {
	color: var( --fg-dark );
}

.mw-widget-calendarWidget-item.mw-widget-calendarWidget-day:hover,
.mw-widget-calendarWidget-item.mw-widget-calendarWidget-month:hover,
.mw-widget-calendarWidget-item.mw-widget-calendarWidget-year:hover {
	background: var( --btn-prim-bg );
}

.mw-widget-calendarWidget-item-selected.mw-widget-calendarWidget-day,
.mw-widget-calendarWidget-item-selected.mw-widget-calendarWidget-month,
.mw-widget-calendarWidget-item-selected.mw-widget-calendarWidget-year {
	background: var( --btn-prim-bg-hl );
}

.mw-widget-calendarWidget-item.mw-widget-calendarWidget-day.mw-widget-calendarWidget-day-today {
	box-shadow: 0 0 0 1px var( --bdr-hl );
}

/*
 * Multiselect widget / plain (see TemplateData editor)
 */

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagMultiselectWidget {
	background: var( --bg-dark );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagMultiselectWidget.oo-ui-tagMultiselectWidget-inlined:hover .oo-ui-tagMultiselectWidget-handle,
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagMultiselectWidget.oo-ui-tagMultiselectWidget-inlined.oo-ui-tagMultiselectWidget-focus .oo-ui-tagMultiselectWidget-handle,
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagItemWidget:focus {
	border: 1px solid var( --bdr-hl );
	box-shadow: none;
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagItemWidget:not(.oo-ui-tagItemWidget-fixed) {
	background: var( --bg-darker );
	color: var( --fg-dark );
}

.oo-ui-tagMultiselectWidget-handle .oo-ui-tagMultiselectWidget-group > .oo-ui-inputWidget-input {
	color: var( --fg );
}

/*
 * Multiselect widget / outlined (see Special:RecentChanges / Special:Watchlist)
 */

/* Overall background, needs to be set because some descendants are transparent */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagMultiselectWidget.oo-ui-tagMultiselectWidget-outlined {
	background: var( --bg-main3 );
}

/* Top part containing the selected tags */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagMultiselectWidget.oo-ui-tagMultiselectWidget-outlined .oo-ui-tagMultiselectWidget-handle {
	background: var( --bg-main3 );
	border: 1px solid var( --bdr-white );
}

/* Labels in the top part, like a title */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagMultiselectWidget.oo-ui-tagMultiselectWidget-outlined .oo-ui-tagMultiselectWidget-handle label {
	color: var( --fg );
}

/* The added tag items */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagMultiselectWidget.oo-ui-tagMultiselectWidget-outlined .oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagItemWidget {
	background: var( --btn-bg );
	border: 1px solid var( --btn-bdr );
	color: var( --btn-fg );
}

/* The added tag items, focused */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagMultiselectWidget.oo-ui-tagMultiselectWidget-outlined .oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagItemWidget:focus {
	box-shadow: none;
}

/* Currently selected tag item */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagMultiselectWidget.oo-ui-tagMultiselectWidget-outlined .oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagItemWidget.mw-rcfilters-ui-tagItemWidget-selected {
	background: var( --btn-active-bg );
	border: 1px solid var( --btn-active-bdr );
	color: var( --btn-active-fg );
}

/* The dropdown handle */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagMultiselectWidget.oo-ui-tagMultiselectWidget-outlined .oo-ui-inputWidget-input {
	background: var( --bg-main2 );
}

/* The buttons on the bottom right */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-tagMultiselectWidget.oo-ui-tagMultiselectWidget-outlined .mw-rcfilters-ui-filterTagMultiselectWidget-views-select-widget {
	border: 1px solid var( --bdr-white );
}

/*
 * Filter selection table (see Special:RecentChanges / Special:Watchlist)
 */

/* Top header */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .mw-rcfilters-ui-table.mw-rcfilters-ui-filterMenuHeaderWidget-header {
	background: var( --bg-main3 );
	border-bottom: 1px solid var( --bdr-color );
}

/* Top header title */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .mw-rcfilters-ui-table .mw-rcfilters-ui-filterMenuHeaderWidget-title {
	color: var( --fg );
}

/* Section header */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .mw-rcfilters-ui-filterMenuSectionOptionWidget {
	background: var( --bg-main3 );
}

/* Section header labels */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .mw-rcfilters-ui-filterMenuSectionOptionWidget .oo-ui-labelElement-label {
	color: var( --fg );
}

/* Filters table, option */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .oo-ui-widget.oo-ui-widget-enabled.mw-rcfilters-ui-filterMenuOptionWidget {
	background: var( --bg-main2 );
	border-bottom: 1px solid var( --bg-dark );
}

/* Filters table, option labels */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .oo-ui-widget.oo-ui-widget-enabled.mw-rcfilters-ui-filterMenuOptionWidget .oo-ui-labelElement-label {
	color: var( --fg );
}

/* Filters table, option, highlighted */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .oo-ui-widget.mw-rcfilters-ui-filterMenuOptionWidget.oo-ui-optionWidget-highlighted {
	background: var( --bg-main3 );
}

/* Filters table, option labels, highlighted */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .oo-ui-widget.mw-rcfilters-ui-filterMenuOptionWidget.oo-ui-optionWidget-highlighted .oo-ui-labelElement-label {
	color: var( --fg );
}

/* Filters table, option, muted */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .oo-ui-widget.mw-rcfilters-ui-filterMenuOptionWidget.oo-ui-flaggedElement-muted {
	background: var( --bg-main );
}

/* Filters table, option labels, muted */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .oo-ui-widget.mw-rcfilters-ui-filterMenuOptionWidget.oo-ui-flaggedElement-muted .oo-ui-labelElement-label {
	color: var( --fg-dark );
}

/* Footer */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .mw-rcfilters-ui-menuSelectWidget-footer {
	background: var( --bg-dark );
	border-top: 1px solid var( --bdr-white );
}

/* Footer, labels */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-menuSelectWidget .mw-rcfilters-ui-menuSelectWidget-footer .oo-ui-labelElement-label {
	color: var( --fg );
}

/*
 * Popup widget & anchor
 */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-popupWidget .oo-ui-popupWidget-popup {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-white );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-popupWidget .oo-ui-popupWidget-popup label {
	color: var( --fg );
}

/* Fill color for the bottom anchor */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-popupWidget-anchored-bottom .oo-ui-popupWidget-anchor::after {
	border-top-color: var( --bg-dark );
}

/* Fill color for the top anchor */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-popupWidget-anchored-top .oo-ui-popupWidget-anchor::after {
	border-bottom-color: var( --bg-dark );
}

/* Border color for the bottom anchor */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-popupWidget-anchored-bottom .oo-ui-popupWidget-anchor::before {
	border-top-color: var( --bdr-white );
}

/* Border color for the top anchor */
.oo-ui-widget.oo-ui-widget-enabled.oo-ui-popupWidget-anchored-top .oo-ui-popupWidget-anchor::before {
	border-bottom-color: var( --bdr-white );
}

/*
 * Notification pop-up
 */
.skin-vector .mw-notification,
.skin-vector .mw-notification.mw-notification-type-warn {
	background: var( --bg-dark );
	color: var( --fg );
}

/*
 * Miscellaneous
 */
.oo-ui-labelWidget.oo-ui-inline-help {
	color: var( --fg );
}

.oo-ui-widget.ve-ui-targetWidget-focused {
	border: 1px solid var( --bdr-hl );
	box-shadow: none;
}

.oo-ui-widget.oo-ui-outlineOptionWidget.oo-ui-optionWidget-highlighted,
.oo-ui-widget.oo-ui-outlineOptionWidget.oo-ui-optionWidget-selected {
	background-color: var( --bg-main3 );
	color: var( --fg );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-selectWidget .oo-ui-menuOptionWidget.oo-ui-optionWidget-highlighted {
	background: var( --bg-main2 );
}

.oo-ui-widget.ve-ui-targetWidget:not( .oo-ui-pendingElement-pending ) {
	background: transparent;
}

.oo-ui-widget.oo-ui-messageWidget.oo-ui-messageWidget-block.oo-ui-flaggedElement-notice,
.oo-ui-widget.oo-ui-messageWidget.oo-ui-messageWidget-block.oo-ui-flaggedElement-success,
.oo-ui-widget.oo-ui-messageWidget.oo-ui-messageWidget-block.oo-ui-flaggedElement-warning {
	background-color: var( --bg-main2 );
	border-color: var( --bdr-color );
}

.mw-message-box-warning.mw-message-box,
.cdx-message.cdx-message--warning,
.cdx-message.cdx-message--error {
	background-color: var( --bg-main2 );
	border: 1px solid var( --bdr-color );
	color: var( --fg );
}

/* Kind of a catch-all to make icons dark */
.oo-ui-iconElement-icon,
.oo-ui-indicatorElement-indicator {
	filter: invert( 100% );
}

/* But this one has a good default color */
span.oo-ui-iconElement-icon.oo-ui-icon-alert.oo-ui-image-warning {
	filter: none;
}

/*
 * ==================================
 * = Parts of the main MediaWiki UI =
 * ==================================
 */

#mw-page-base {
	background: transparent;
}

/*
 * Head / Tabs
 */

/* The "Not logged in" text where the username would be */
#mw-head #p-personal #pt-anonuserpage {
	color: var( --fg );
	background-image: none;
}

#mw-head .vector-menu-tabs {
	background-image: none;
	border: 0;
	padding: 0;
}

#mw-head .vector-menu-tabs li {
	background: transparent;
}

#mw-head .vector-menu-tabs li.selected {
	background: linear-gradient( var( --bg-dark ), 30%, var( --bg-main ) );
}

#mw-head .vector-menu-tabs li a,
#mw-head .vector-menu-tabs li a:visited {
	background-image: none;
	border-left: 1px solid var( --bdr-color );
	border-right: 1px solid var( --bdr-color );
	margin-right: -1px;
	color: var( --link );
}

#mw-head .vector-menu-tabs li.selected a,
#mw-head .vector-menu-tabs li.selected a:visited {
	color: var( --fg );
}

#mw-head .vector-menu-tabs li.new a,
#mw-head .vector-menu-tabs li.new a:visited {
	color: var( --link-new );
}

/*
 * The "More [actions]" drop-down pseudo-tab
 */

#mw-head .vector-menu-dropdown .vector-menu-heading {
	color: var( --link );
	background-image: none;
	border-right: 1px solid var( --bdr-color );
}

/* Make the "More" menu arrow visible on MW 1.39+ */
.vector-menu-dropdown .vector-menu-heading::after {
	filter: invert( 100% );
}

/* Also make the "More" text itself the same color as other tabs, for consistency (MW 1.39+) */
.vector-menu-dropdown .vector-menu-heading {
	color: var( --link );
}

/* Disable the ugly dotted outline when focused */
#mw-head .vector-menu-dropdown-noicon input.vector-menu-checkbox:focus + h3 {
	outline: 0;
}

#mw-head .vector-menu-dropdown .vector-menu-content {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
}

#mw-head .vector-menu-dropdown .vector-menu-content li a {
	color: var( --link );
	margin: 10px;
}

/* Arrow icon */
#mw-head .vector-menu-dropdown .vector-menu-heading::after {
	filter: invert( 100% );
}

/*
 * Search input field
 */
#simpleSearch #searchInput {
	background: var( --bg-main );
	border: 1px solid var( --bdr-white );
	color: var( --fg );
}

#simpleSearch #searchInput:focus,
#simpleSearch:hover #searchInput,
#simpleSearch:hover #searchInput:focus {
	border: 1px solid var( --bdr-hl );
	box-shadow: none;
}

#searchInput::placeholder {
	color: var( --fg-dark );
}

#simpleSearch #searchButton {
	filter: invert( 100% );
}

/*
 * Search suggestions
 */

/* We need to override inline CSS, so duplicate the class to increase matching weight */
.suggestions-results.suggestions-results {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
}

.suggestions .suggestions-results .mw-searchSuggest-link .suggestions-result {
	color: var( --fg );
}

.suggestions .suggestions-results a.mw-searchSuggest-link:is( .suggestions-result-current, .suggestions-result:is( :hover, :active, :focus ) ) {
	background: var( --bg-darker );
}

.suggestions a.mw-searchSuggest-link .suggestions-special {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
}

.suggestions a.mw-searchSuggest-link .suggestions-special:is( .suggestions-result-current, :hover, :active, :focus ) {
	background: var( --bg-darker );
}

.suggestions a.mw-searchSuggest-link .suggestions-special .special-label {
	color: var( --fg-dark );
}

.suggestions a.mw-searchSuggest-link .suggestions-special .special-query {
	color: var( --fg );
}

/*
 * mediawiki.userSuggest, the username suggestion widget used in various places
 */
div.suggestions-result {
	color: var( --fg );
}

/*
 * Advanced search
 */

#powersearch #mw-searchoptions {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-white );
}

/*
 * Left-side panel (aka Sidebar)
 */
#mw-panel {
	/* Allows using position:sticky in contents. */
	height: 100%;
}

#mw-panel .vector-menu-portal .vector-menu-heading {
	color: var( --fg );
	background: none;
	border-bottom: 1pt dotted var( --bdr-color );
}

#mw-panel .vector-menu-portal .vector-menu-content li {
	font-size: 0.85em;
}

#mw-panel .vector-menu-portal .vector-menu-content .vector-menu-content-list li a {
	color: var( --link );
}

#mw-panel .vector-menu-portal .vector-menu-content .vector-menu-content-list li a:visited {
	color: var( --link-vis );
}

#mw-panel .vector-menu-portal .vector-menu-content .vector-menu-content-list li a:is( :hover, :active, :focus ) {
	color: var( --link-vis );
	text-decoration: underline;
}

/*
 * Main content
 */
.mw-body {
	border: 1px solid var( --bdr-color );
	background: var( --bg-main );
	color: var( --fg );
	padding: 1em;
}

/*
 * Footer
 */
#footer ul li {
	color: var( --fg-dark );
}

/* New, Codex style "Powered by MediaWiki" button in MW 1.43+ */
#footer-icons li:not( #footer-poweredbyico ) a {
	background: transparent;
}

/*
 * ==============================
 * = Regular wiki page contents =
 * ==============================
 */

#mw-content-subtitle,
#contentSub,
#contentSub2 {
	color: var( --fg-dark );
}

/*
 * Table of Contents
 */
#toc,
.toc,
.toccolours {
	border: 1px solid var( --bdr-color );
	background: var( --bg-dark );
}

.tocnumber {
	color: var( --link );
}

.toctogglelabel {
	color: var( --link );
}

/*
 * Wikitable
 */
table.wikitable {
	padding: 1em;
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
	border-collapse: collapse;
	color: var( --fg );
}

table.wikitable caption {
	margin-left: inherit;
	margin-right: inherit;
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
	font-weight: bold;
}

table.wikitable :is( th, td ) {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
	padding: 0.2em;
	color: var( --fg );
}

table.wikitable th {
	background: var( --bg-darker );
	text-align: center;
}

table.wikitable.jquery-tablesorter th.headerSort {
	background-image: url(sort_both.svg);
}

table.wikitable.jquery-tablesorter th.headerSortUp {
	background-image: url(sort_up.svg);
}

table.wikitable.jquery-tablesorter th.headerSortDown {
	background-image: url(sort_down.svg);
}

table.wikitable tr :is( th, td ) {
	border: 1px solid var( --bdr-color );
}

table.wikitable tr th {
	background: var( --bg-dark );
}

/*
 * Datatable
 */
.mw-datatable-is-ascending a,
.mw-datatable-is-descending a {
	background: transparent;
	padding-left: 0;
}

.mw-datatable-is-ascending a::before {
	content: '\2b9d \00a0';
}

.mw-datatable-is-descending a::before {
	content: '\2b9f \00a0';
}

.mw-datatable th {
	background: var( --bg-darker );
	border: 1px solid var( --bdr-color );
}

.mw-datatable td {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
}

.mw-datatable tr:hover td {
	background: var( --bg-darker );
}

/*
 * Thumbnails
 */
figure[ typeof~="mw:File/Thumb" ],
figure[ typeof~="mw:File/Frame" ] {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
	border-bottom: none;
}

figure[ typeof~="mw:File/Thumb" ] > :not(figcaption) .mw-file-element,
figure[ typeof~="mw:File/Frame" ] > :not(figcaption) .mw-file-element {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
}

figure[ typeof~="mw:File/Thumb" ] figcaption,
figure[ typeof~="mw:File/Frame" ] figcaption {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
	border-top: none;
}

/*
 * Thumbnails (old MW versions)
 */
.thumb .thumbinner {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
}

.thumb .thumbinner .thumbimage {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
}

/*
 * User message
 */
.usermessage {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
	color: var( --fg );
}

/*
 * Galleries
 */
li.gallerybox div.thumb {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
}

/*
 * Categories
 */
.catlinks {
	border: 1px solid var( --bdr-color );
	background: var( --bg-dark );
}

/*
 * Blockquote
 */
.vector-body blockquote {
	border-left: 4px solid var( --bg-main2 );
}

/*
 * Collapsible
 */

body .mw-collapsible-toggle-default::before,
body .mw-collapsible-toggle-default::after {
	color: var( --fg );
}

body .mw-collapsible-toggle-default .mw-collapsible-text,
body .mw-collapsible-toggle-default .mw-collapsible-text:hover {
	color: var( --link );
}

/*
 * =========================
 * = Special page contents =
 * =========================
 */

/*
 * Create account
 */
.mw-createacct-benefits-container {
	display: none;
}

/*
 * Login
 */

/* Don't be fooled by the button's id; it's in the login page */
#mw-createaccount-join {
	background: var( --btn-bg );
	border: 1px solid var( --btn-bdr );
	color: var( --btn-fg );
}

#mw-createaccount-join:is( :hover, :active, :focus ) {
	background: var( --btn-bg-hl );
	border: 1px solid var( --btn-bdr-hl );
	color: var( --btn-fg-hl );
	box-shadow: none;
}

/*
 * Search results
 */
.mw-search-profile-tabs {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-white );
}

.search-types .current a {
	color: var( --fg );
}

.mw-search-result-data {
	color: var( --fg-dark );
}

/*
 * Editing
 */
.editOptions {
	background: var( --bg-main2 );
	border: 1px solid var( --bdr-color );
	color: var( --fg );
}

/*
 * File page
 */
#filetoc {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
}

table.mw_metadata :is( th, td ) {
	border: 1px solid var( --bdr-white );
}

table.mw_metadata th {
	background: var( --bg-dark );
}

table.mw_metadata td {
	background: transparent;
}

.filehistory a img,
#file img:hover {
	background: transparent;
}

/*
 * File upload
 */
.mw-destfile-warning {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
}

/*
 * History, Changes, Watchlist, Contributions
 */
#mw-indicator-mw-helplink a {
	background-image: none;
	padding-left: 0;
}

.mw-rcfilters-ui-watchlistTopSectionWidget .mw-rcfilters-ui-watchlistTopSectionWidget-separator {
	border-top: 2px solid var( --bdr-color );
}

.oo-ui-widget.oo-ui-widget-enabled.oo-ui-dropdownWidget.mw-rcfilters-ui-rclToOrFromWidget .oo-ui-dropdownWidget-handle:is( *, :hover, :active, :focus ) {
	background: transparent;
	border: 0;
}

.mw-enhancedchanges-checkbox + * .mw-enhancedchanges-arrow {
	background: var( --fg );
}

#pagehistory li.selected {
	background: var( --bg-main );
	color: var( --fg );
}

.mw-plusminus-pos {
	color: var( --diff-count-pos );
}

.mw-plusminus-neg {
	color: var( --diff-count-neg );
}

.autocomment,
.autocomment a,
.autocomment a:visited {
	color: var( --fg-dark );
}

/* Duplicate class selector to add weight */
.mw-rcfilters-ui-changesListWrapperWidget .mw-changeslist-legend.mw-changeslist-legend {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-white );
}

/*
 * Revision differences
 */
table.diff,
td.diff-otitle,
td.diff-ntitle {
	background: transparent;
}

td.diff-addedline {
	background: var( --bg-dark );
	border-color: var( --diff-bdr-add );
}

td.diff-deletedline {
	background: var( --bg-dark );
	border-color: var( --diff-bdr-del );
}

td.diff-context {
	background: transparent;
	border-color: var( --diff-bdr-ntr );
	color: var( --fg );
}

td.diff-addedline .diffchange,
td.diff-deletedline .diffchange {
	border-radius: 0.33em;
	padding: 0.25em;
}

td.diff-addedline .diffchange {
	background: var( --diff-text-add-bg );
	color: var( --diff-text-add-fg );
}

td.diff-deletedline .diffchange {
	background: var( --diff-text-del-bg );
	color: var( --diff-text-del-fg );
}

/*
 * Preferences
 */
.mw-prefs-buttons,
#preferences .mw-htmlform-submit-buttons {
	background: var( --bg-main );
	border-top: 1px solid var( --bdr-white );
	box-shadow: none;
}

/*
 * The legend box on Special:RecentChanges
 */
.mw-changeslist-legend {
	background-color: transparent;
}

/*
 * Make at least database error messages more readable
 * (without this, the text color would be var( --fg ), e.g.
 * a rather light shade of grey against a background of
 * #fee7e6, which is fairly unreadable...)
 */
.mw-message-box-error p {
	color: #000;
}

.oo-ui-fieldsetLayout:target > .oo-ui-fieldsetLayout-header > .oo-ui-labelElement-label {
	background: var( --bg-dark );
	outline: none;
	border-bottom: 2px solid var( --bdr-hl );
}

/*
 * Debug toolbar stuff
 */

body .mw-debug,
body .mw-debug-pane,
body .mw-debug-panelink {
	background: var( --bg-main );
}

body .mw-debug-panelink.current,
body .mw-debug-panelink:hover {
	background: var( --bg-darker );
}

body a.mw-debug-panelabel,
body a.mw-debug-panelabel:visited {
	color: var( --link );
}

body .mw-debug table tr {
	background: var( --bg-dark );
}

body .mw-debug table tr:nth-child(2n) {
	background: var( --bg-darker );
}

body .mw-debug-console-log {
	background: var( --bg-darker );
}

body #mw-debug-pane-request th,
body #mw-debug-pane-request td {
	background: none;
}

/*
 * ===============================
 * = Extension-specific elements =
 * ===============================
 */

/*
 * WikiEditor
 */

.wikiEditor-ui .wikiEditor-ui-toolbar {
	background: var( --bg-main2 );
}

.wikiEditor-ui .wikiEditor-ui-toolbar .group .label,
.wikiEditor-ui .wikiEditor-ui-toolbar .group .tool-select .label {
	color: var( --fg );
}

.wikiEditor-ui .wikiEditor-ui-toolbar .tabs span.tab a {
	color: var( --link );
}

.wikiEditor-ui .wikiEditor-ui-toolbar .tabs span.tab a.current {
	color: var( --link-vis );
}

.wikiEditor-ui .wikiEditor-ui-toolbar .tabs span.tab a::before,
.wikiEditor-ui .wikiEditor-ui-toolbar .group .tool-select .label::after {
	filter: invert( 100% );
}

.wikiEditor-ui .wikiEditor-ui-toolbar .group .tool-select .options .option {
	background: var( --bg-main2 );
	color: var( --fg );
}

.wikiEditor-ui .wikiEditor-ui-toolbar .group .tool-select .menu .options .option:hover {
	background: var( --bg-main3 );
}

.wikiEditor-ui .wikiEditor-ui-toolbar .booklet .index .current,
.wikiEditor-ui .wikiEditor-ui-toolbar .booklet .index :hover,
.wikiEditor-ui .wikiEditor-ui-toolbar .page-characters div span,
.wikiEditor-ui .wikiEditor-ui-toolbar .page-characters div span:hover {
	background: var( --bg-main3 );
	color: var( --fg );
}

.wikiEditor-ui .wikiEditor-ui-toolbar .page-table td {
	color: var( --fg );
}

.wikiEditor-ui .ext-WikiEditor-ResizingDragBar {
	background: var( --bg-main3 );
}

.wikiEditor-ui .ext-WikiEditor-ResizingDragBar span {
	background: var( --link-vis );
}

.wikiEditor-ui .ext-WikiEditor-ResizingDragBar:hover span {
	background: var( --link );
}

.wikiEditor-ui .ext-WikiEditor-ResizingDragBar-ns {
	border-top: 1px solid var( --bdr-white );
}

/*
 * Spoilers
 */

.spoilers .spoilers-button {
	background: var( --btn-bg );
	border: 1px solid var( --btn-bdr );
	color: var( --btn-fg );
}

.spoilers .spoilers-button:is( :hover, :active, :focus ) {
	background: var( --btn-bg );
	border: 1px solid var( --btn-bdr );
	color: var( --btn-fg );
}

.spoilers .spoilers-body {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
	color: var( --fg );
}

/*
 * SyntaxHighlighting
 */

.mw-highlight.mw-highlight-lines pre {
	box-shadow: none;
}

.mw-highlight.mw-highlight-lines pre .linenos {
	color: var( --fg-dark );
}

.mw-highlight.mw-highlight-lines pre a:hover .linenos,
.mw-highlight.mw-highlight-lines pre .hll a .linenos {
	color: var( --fg-light );
}

/*
 * ProblemReports
 */

div#reportProblemForm {
	background-color: transparent;
}

body .ui-dialog .ui-icon-closethick {
	filter: invert( 100% );
}

/*
 * Cargo
 */

.drilldown-results #drilldown-tables-tabs-wrapper {
	border-bottom: none;
}

.drilldown-results .drilldown-tabs {
	background: none;
}

.drilldown-results .drilldown-tabs li,
.drilldown-results .drilldown-tabs li:first-child {
	background: var( --bg-dark );
	margin: 2px;
}

.drilldown-results .drilldown-tabs a,
.drilldown-results .drilldown-tabs a:active {
	color: var( --link );
}

.drilldown-results .drilldown-tabs li.selected a {
	background: unset;
	color: var( --fg );
	font-weight: bold;
}

.drilldown-header-value + a img {
	display: none;
}

.drilldown-header-value + a::after,
.drilldown-header-value + a:visited::after {
	content: "\1F5D9";
	color: var( --link );
}

.drilldown-results .drilldown-filters-wrapper {
	background: var( --bg-dark );
	color: var( --fg-dark );
	border: 1px solid var( --bdr-white );
}

.mw-body table.cargo-tablelist.mw-datatable tr.cargo-tablelist-replacement-row:hover td,
.mw-body table.cargo-tablelist.mw-datatable tr.cargo-tablelist-replacement-row > td {
	background: var( --bg-darker );
}

table.cargoTable {
	border: 1px solid var( --bdr-white );
}

table.cargoTable.noMerge :is(thead,tbody) tr:nth-child(2n+1) {
	background: var( --bg-dark );
}

table.cargoTable.noMerge :is(thead,tbody) tr:nth-child(2n) {
	background: var( --bg-darker );
}

.mw-body .specialCargoQuery-extraPane {
	background: none;
	border: 1px solid var( --bdr-white );
}

.mw-body .cargo-pagevalues-tableinfo {
	background: var( --bg-main );
	border-bottom: 1px solid var( --bdr-color );
}

/*
 * Popups
 */

body .mwe-popups,
body .mwe-popups .mwe-popups-container,
body .mwe-popups .mwe-popups-extract {
	background: var( --bg-darker );
	color: var( --fg );
	box-shadow: none;
}

body .mwe-popups .mwe-popups-extract[dir="ltr"]::after {
	background-image: linear-gradient(to right, transparent, var( --bg-darker ));
}

body .mwe-popups .mw-ui-icon,
body .mwe-popups .popups-icon {
	filter: invert( 100% );
}

/*
 * Scribunto
 */

#mw-scribunto-console
.mw-scribunto-console-fieldset,
#mw-scribunto-console
.mw-scribunto-message,
#mw-scribunto-console
.mw-scribunto-error,
#mw-scribunto-console
.mw-scribunto-normalOutput {
	background: none;
	color: inherit;
}

#mw-scribunto-console
.mw-scribunto-input {
	background: var( --bg-dark );
	border: 1px solid var( --bdr-color );
	color: inherit;
	font-family: monospace;
	font-weight: normal;
}

#mw-scribunto-console
input[type="button"] {
	margin-top: 10px;
	background: var( --btn-prim-bg );
	border: 1px solid var( --btn-prim-bdr );
	color: var( --btn-prim-fg );
}

/*
 * CodeEditor
 */

form .wikiEditor-ui .wikiEditor-ui-view {
	border: 1px solid var( --bdr-white );
}

form .wikiEditor-ui .ace-tm {
	background: var( --bg-darker );
	color: var( --fg );
}

form .wikiEditor-ui .ace-tm .ace_gutter {
	background: var( --bg-main );
}

form .wikiEditor-ui .ace-tm .ace_gutter-active-line {
	background: var( --bg-main3 );
}

form .wikiEditor-ui .ace-tm .ace_storage,
form .wikiEditor-ui .ace-tm .ace_keyword,
form .wikiEditor-ui .ace-tm .ace_constant.ace_numeric {
	color: skyblue;
}

form .wikiEditor-ui .ace-tm .ace_entity.ace_name.ace_function {
	color: gold;
}

form .wikiEditor-ui .ace-tm .ace_cursor {
	color: var( --fg );
}

form .wikiEditor-ui .ace-tm .ace_marker-layer .ace_selection {
	background: var( --bg-main3 );
}

form .wikiEditor-ui .ace-tm .ace_marker-layer .ace_selected-word {
	background: var( --bg-main2 );
}

form .wikiEditor-ui .ace-tm .ace_print-margin {
	background: var( --fg-dark );
}

form .wikiEditor-ui .codeEditor-status {
	background: var( --bg-main2 );
	border-top: 1px solid var( --bdr-white );
}

/*
 * CodeMirror
 */

form .wikiEditor-ui .CodeMirror {
	background: var( --bg-dark );
	color: var( --fg );
	caret-color: white;
}

form .wikiEditor-ui .CodeMirror-gutters {
	background: var( --bg-main );
	border: none;
}

form .wikiEditor-ui .CodeMirror-linenumber {
	color: var( --fg-dark );
}

form .wikiEditor-ui .cm-mw-link,
form .wikiEditor-ui .cm-mw-link-tosection,
form .wikiEditor-ui .cm-mw-link-pagename,
form .wikiEditor-ui .cm-mw-link-bracket,
form .wikiEditor-ui .cm-mw-link-delimiter,
form .wikiEditor-ui .cm-mw-extlink,
form .wikiEditor-ui .cm-mw-extlink-protocol,
form .wikiEditor-ui .cm-mw-extlink-bracket,
form .wikiEditor-ui .cm-mw-free-extlink,
form .wikiEditor-ui .cm-mw-free-extlink-protocol,
form .wikiEditor-ui .cm-mw-section-header {
	color: skyblue;
}

form .wikiEditor-ui .cm-mw-parserfunction-name,
form .wikiEditor-ui .cm-mw-parserfunction-bracket,
form .wikiEditor-ui .cm-mw-parserfunction-delimiter {
	color: dimgrey;
}

form .wikiEditor-ui .cm-mw-exttag-bracket,
form .wikiEditor-ui .cm-mw-exttag-attribute,
form .wikiEditor-ui .cm-mw-exttag-name,
form .wikiEditor-ui .cm-mw-htmltag-bracket,
form .wikiEditor-ui .cm-mw-htmltag-attribute,
form .wikiEditor-ui .cm-mw-htmltag-name {
	color: darkcyan;
}

form .wikiEditor-ui .cm-mw-template-name,
form .wikiEditor-ui .cm-mw-template-argument-name,
form .wikiEditor-ui .cm-mw-template-delimiter,
form .wikiEditor-ui .cm-mw-template-bracket {
	color: salmon;
}

form .wikiEditor-ui .cm-mw-templatevariable {
	color: var( --fg );
}

form .wikiEditor-ui .cm-mw-templatevariable-bracket,
form .wikiEditor-ui .cm-mw-templatevariable-name,
form .wikiEditor-ui .cm-mw-templatevariable-delimiter {
	color: seagreen;
}

form .wikiEditor-ui .cm-mw-template {
	color: var( --fg-light );
}

form .wikiEditor-ui .cm-mw-apostrophes-bold,
form .wikiEditor-ui .cm-mw-apostrophes-italic,
form .wikiEditor-ui .cm-mw-doubleUnderscore,
form .wikiEditor-ui .cm-mw-signature,
form .wikiEditor-ui .cm-mw-hr {
	color: aqua;
}

form .wikiEditor-ui .cm-mw-comment {
	color: dimgrey;
}

form .wikiEditor-ui .cm-mw-skipformatting {
	background: darkcyan;
}

form .wikiEditor-ui .cm-mw-ext-ground,
form .wikiEditor-ui .cm-mw-ext2-ground,
form .wikiEditor-ui .cm-mw-ext3-ground,
form .wikiEditor-ui .cm-mw-template-ext-ground,
form .wikiEditor-ui .cm-mw-template-ext2-ground,
form .wikiEditor-ui .cm-mw-template-ext3-ground,
form .wikiEditor-ui .cm-mw-template2-ext-ground,
form .wikiEditor-ui .cm-mw-template2-ext2-ground,
form .wikiEditor-ui .cm-mw-template2-ext3-ground,
form .wikiEditor-ui .cm-mw-template3-ext-ground,
form .wikiEditor-ui .cm-mw-template3-ext2-ground,
form .wikiEditor-ui .cm-mw-template3-ext3-ground,
form .wikiEditor-ui .cm-mw-doubleUnderscore,
form .wikiEditor-ui .cm-mw-signature,
form .wikiEditor-ui .cm-mw-hr {
	background: none;
}

form .wikiEditor-ui .cm-mw-matchingbracket {
	background: none;
	box-shadow: none;
	color: aqua;
}

form .wikiEditor-ui .CodeMirror-line::selection,
form .wikiEditor-ui .CodeMirror-line > span::selection,
form .wikiEditor-ui .CodeMirror-line > span > span::selection {
	background: dimgray;
	color: white;
}

/*
 * TabberNeue
 */

.tabber .tabber__header {
	box-shadow: inset 0 -1px 0 0 var( --bdr-color );
}

.tabber .tabber__indicator {
	background: var( --link-vis );
}

.tabber .tabber__tab,
.tabber .tabber__tab:visited {
	color: var( --fg-dark );
}

.tabber .tabber__tab:active,
.tabber .tabber__tab[aria-selected="true"],
.tabber .tabber__tab[aria-selected="true"]:visited {
	color: var( --link-vis );
}

.tabber .tabber__tab:hover,
.tabber .tabber__tab[aria-selected="true"]:hover {
	color: var( --link );
}

/*
 * CommentStreams
 */

.cs-comments .cs-edit-box {
	background-color: var( --bg-main );
}

.cs-comments .cs-body-edit-field {
	border-color: var( --bdr-hl );
}

.cs-comments .cs-expanded .cs-comment-header,
.cs-comments .cs-collapsed .cs-comment-header {
	background-color: var( --bg-main );
}

.cs-comments .cs-head-comment > .cs-comment-header {
	border-top: 1px solid var( --bdr-color );
}

.cs-comments .cs-comment-author a {
	color: var( --link );
}

.cs-comments .cs-comment-details {
	color: var( --fg-dark );
}

/*
 * Echo
 */

/* Toolbar icons */
.oo-ui-icon-bell, .oo-ui-icon-tray {
	filter: invert(100%);
}

/* Popup */
.mw-echo-ui-overlay .oo-ui-widget.oo-ui-widget-enabled.oo-ui-popupWidget-anchored-top .oo-ui-popupWidget-anchor::after {
	border-bottom-color: var( --bg-main2 );
}

.mw-echo-ui-overlay .oo-ui-widget.oo-ui-widget-enabled.oo-ui-popupWidget .oo-ui-popupWidget-popup {
	background: var( --bg-main2 );
}

.mw-echo-ui-overlay .oo-ui-pendingElement-pending {
	background-color: var( --bg-main2 );
	background-image: linear-gradient(
		135deg,
		var( --bg-dark ) 25%,
		transparent 25%,
		transparent 50%,
		var( --bg-dark ) 50%,
		var( --bg-dark ) 75%,
		transparent 75%,
		transparent
	);
}

.mw-echo-ui-overlay .mw-echo-ui-placeholderItemWidget,
.mw-echo-ui-overlay .mw-echo-ui-notificationItemWidget,
.mw-echo-ui-overlay .mw-echo-ui-notificationItemWidget-unread {
	background: var( --bg-main );
}

.mw-echo-ui-overlay .mw-echo-ui-notificationItemWidget:hover,
.mw-echo-ui-overlay .mw-echo-ui-notificationItemWidget-unread:hover {
	background: var( --bg-main2 );
}

.mw-echo-ui-overlay .mw-echo-ui-notificationItemWidget-content-message-header {
	color: var( --fg-light );
}

.mw-echo-ui-overlay .mw-echo-ui-notificationItemWidget-content-message-body {
	color: var( --fg );
}

.mw-echo-ui-overlay .mw-echo-ui-menuItemWidget > .oo-ui-buttonElement-button > .oo-ui-labelElement-label {
	color: var( --fg );
}

.mw-echo-ui-overlay .mw-echo-ui-notificationItemWidget-initiallyUnseen {
	animation: none;
}

/* Notifications page */
.client-js .mw-body-content .mw-echo-special-nojs {
	/* This is normally a data:image/gif;base64 loading animation.  It's
	 * not suitable for a dark theme and I can't be arsed to make one.
	 * It's only shown very briefly, then swapped out via JS.  The
	 * nojs in the class name may make you think that it stays there
	 * if JS is disabled, but that is not the case; it's not shown at
	 * all if JS is disabled.  Don't ask me why the class is named
	 * like this.
	 */
	background-image: none;
}

.oo-ui-widget.oo-ui-pendingElement-pending {
	background-color: var( --bg-main );
	background-image: linear-gradient(
		135deg,
		var( --bg-dark ) 25%,
		transparent 25%,
		transparent 50%,
		var( --bg-dark ) 50%,
		var( --bg-dark ) 75%,
		transparent 75%,
		transparent
	);
}

.oo-ui-widget .mw-echo-ui-notificationsInboxWidget-toolbarWrapper {
	background: transparent;
	box-shadow: none;
}

.oo-ui-widget .mw-echo-ui-notificationItemWidget,
.oo-ui-widget .mw-echo-ui-notificationItemWidget-unread {
	background: var( --bg-main2 );
}

.oo-ui-widget .mw-echo-ui-notificationItemWidget:hover,
.oo-ui-widget .mw-echo-ui-notificationItemWidget-unread:hover {
	background: var( --bg-main3 );
}

.oo-ui-widget .mw-echo-ui-notificationItemWidget-content-message-header {
	color: var( --fg-light );
}

.oo-ui-widget .mw-echo-ui-notificationItemWidget-content-message-body {
	color: var( --fg );
}

.oo-ui-widget .mw-echo-ui-menuItemWidget > .oo-ui-buttonElement-button > .oo-ui-labelElement-label {
	color: var( --fg );
}

.oo-ui-widget .mw-echo-ui-notificationItemWidget-content-actions-timestamp {
	color: var( --fg );
}

/*
 * DiscussionTools
 */

.oo-ui-widget .ext-discussiontools-ui-replyWidget-preview {
	background: var( --bg-main3 );
}

.oo-ui-widget .ext-discussiontools-autotopicsubpopup-image {
	background: none;
}

.oo-ui-widget .ext-discussiontools-autotopicsubpopup-body {
	margin-right: 1em;
}

.ext-discussiontools-init-pageframe-latestcomment,
.ext-discussiontools-init-timestamplink,
.ext-discussiontools-init-section-metaitem,
.ext-discussiontools-visualenhancements-enabled .ext-discussiontools-init-section-metaitem {
	color: var( --fg-dark );
}

.ext-discussiontools-init-publishedcomment {
	background: none;
}

.ext-discussiontools-init-targetcomment {
	background: none;
}

/*
 * Details
 */

.wikicollapse {
	border: 1px solid var( --bdr-color );
	background-color: var( --bg-dark );
	color: var( --fg );
}

.wikicollapse > summary:first-of-type {
	color: var( --link );
}

/*
 * Moderation
 */

.modconflict {
	background-color: #300;
}

body #mw-editing-your-version {
	border: 1px solid #363;
	background-color: #030;
	/* The following two fix layout shift issues.
	 * They are the same as the default, but the default loads
	 * late for some reason, and doing it here fixes that.
	 */
	padding: 5px;
	margin-bottom: 5px;
}

/*
 * TemplateData
 */

.tdg-templateDataParamWidget-param-aliases .tdg-templateDataParamWidget-param-alias:first-child {
	background: var( --bg-dark );
}

.tdg-templateDataParamWidget-param-aliases .tdg-templateDataParamWidget-param-alias {
	border: 1px solid var( --bdr-white );
	background: var( --bg-darker );
	color: var( --fg );
}
